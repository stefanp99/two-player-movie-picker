<mat-accordion class="accordition-panels" multi>

    <!-- Panel for creating a new room -->
    <mat-expansion-panel expanded="true">
        <mat-expansion-panel-header>
            <mat-panel-title>Create Room</mat-panel-title>
            <mat-panel-description>
                Create a Room
            </mat-panel-description>
        </mat-expansion-panel-header>

        <!-- TODO: Add filters for genre, popularity, language -->
        <form class="seed-form">
            <!-- Generates a random 4-character room seed and starts a session -->
            <button mat-raised-button color="primary" type="submit" (click)="generateSeed()">
                Generate Room
            </button>

            <!-- Allows player to rejoin if a session is still active -->
            <button mat-raised-button *ngIf="canPlayerRejoin === true" (click)="rejoinRoom()">
                Rejoin room
            </button>
        </form>
    </mat-expansion-panel>

    <!-- Panel for joining an existing room using a seed -->
    <mat-expansion-panel expanded="true">
        <mat-expansion-panel-header>
            <mat-panel-title>Join Room</mat-panel-title>
            <mat-panel-description>
                Join a Room
            </mat-panel-description>
        </mat-expansion-panel-header>

        <!-- Reactive form for entering the room seed -->
        <form [formGroup]="seedForm" (ngSubmit)="inputSeed()" class="seed-form">
            <mat-form-field appearance="fill">
                <mat-label>Enter Room Seed (4 characters)</mat-label>

                <!-- Converts input to uppercase and strips non-alphanumeric characters -->
                <input matInput formControlName="seed" maxlength="4" (input)="formatInput()" placeholder="A1B2" />

                <!-- Validation message for invalid seed input -->
                <mat-error *ngIf="seedForm.controls['seed'].invalid">
                    Must be 4 alphanumeric characters.
                </mat-error>
            </mat-form-field>

            <!-- Disabled if form is invalid -->
            <button mat-raised-button color="primary" type="submit" [disabled]="seedForm.invalid">
                Submit
            </button>
        </form>
    </mat-expansion-panel>
</mat-accordion>

<br />
<mat-divider></mat-divider>
<br />

<!-- Displays movie card component once movies are loaded -->
<app-movie-card *ngIf="this.initialMovies.length" [movies]="this.initialMovies" [seed]="this.seed"></app-movie-card>